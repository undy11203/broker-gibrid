# broker-gibrid
Брокер сообщений \
Цели:
1. Гибкие гарантии доставки : возможность переключаться между at-most-once, at-least-once и, если возможно, exactly-once.
2. Поддержка очередей, топиков, групп потребителей .
3. Хранение в памяти или на диске — возможность переключения.
4. Локальный и распределённый режимы .

|Компонент|Язык|
|---|---|
|Ядро брокера (очереди, топики, маршрутизация, хранение, подтверждение сообщений)|C++|
|Сервер (сетевой интерфейс, HTTP/gRPC, TCP/UDP, API, оркестрация узлов)|Go|
|Интерфейс между Go и C++|CGO / Shared library (.so / .dll) / IPC / FFI|

```
mybroker/
├── core/                  # Core на C++
│   ├── queue/             # Очереди
│   ├── topic/             # Топики
│   ├── storage/           # Хранилище (RAM / Disk)
│   ├── consumer_group/    # Группы потребителей
│   └── broker.cpp         # Главная логика
├── api/                   # API на Go
│   ├── server.go          # HTTP/gRPC сервер
│   └── handlers.go        # Обработчики запросов
├── bindings/              # Мост между Go и C++
│   ├── broker_wrapper.go  # CGO или FFI
│   └── libbroker.so       # Скомпилированный C++ код
├── config/
│   └── config.yaml        # Конфиг для режима работы
└── main.go                # Точка входа
```
